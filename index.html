<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>Operation WORD-LIGHT</title>

<style>
body {
  font-family: "ë§‘ì€ ê³ ë”•", sans-serif;
  background-color: #111;
  color: #eee;
  text-align: center;
  padding: 40px;
}

.room {
  display: none;
  border: 2px solid #555;
  padding: 30px;
  margin: 20px auto;
  max-width: 600px;
  background-color: #1c1c1c;
  animation: fadeIn 1.2s;
}

.active {
  display: block;
}

input, button {
  padding: 10px;
  font-size: 16px;
  margin-top: 10px;
}

.hint {
  font-size: 14px;
  color: #aaa;
}

#ending {
  display: none;
  animation: fadeIn 2s;
}

#names {
  margin-top: 20px;
  font-size: 20px;
  line-height: 1.8;
  color: #ffd700;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
</style>
</head>

<body>

<h1>ğŸ” Operation: WORD-LIGHT</h1>
<p>ì„±ê²½ì„ ì§ì ‘ ì°¾ì•„ì•¼ë§Œ ë‹¤ìŒ ë°©ìœ¼ë¡œ ê°ˆ ìˆ˜ ìˆë‹¤</p>

<!-- AUDIO -->
<audio id="bgm" loop>
  <source src="spy-mission.mp3" type="audio/mpeg">
</audio>

<audio id="door">
  <source src="door-open.mp3" type="audio/mpeg">
</audio>

<audio id="successSound">
  <source src="success.mp3" type="audio/mpeg">
</audio>

<button onclick="startMission()">â–¶ ë¯¸ì…˜ ì‹œì‘</button>

<!-- ROOM 1 -->
<div class="room active" id="room1">
<h2>ROOM 1 â€“ ë¹›ì˜ ì‹œì‘</h2>
<p>ìš”í•œë³µìŒ 1ì¥ 5ì ˆ</p>
<p>ì–´ë‘ ì´ ê·¸ê²ƒì„ (        ) ëª»í•˜ë”ë¼</p>
<input id="answer1">
<br><button onclick="check1()">í™•ì¸</button>
</div>

<!-- ROOM 2 -->
<div class="room" id="room2">
<h2>ROOM 2 â€“ ë§ì”€ì„ ì°¾ëŠ” ë°©ë²•</h2>
<p>ëˆ„ê°€ë³µìŒ 11ì¥ 9ì ˆ</p>
<p>í–‰ë™ 3ê°€ì§€ë¥¼ ìˆœì„œëŒ€ë¡œ</p>
<input id="answer2">
<br><button onclick="check2()">í™•ì¸</button>
</div>

<!-- ROOM 3 -->
<div class="room" id="room3">
<h2>ROOM 3 â€“ ë°˜ë³µì˜ í˜</h2>
<p>ì—¬í˜¸ìˆ˜ì•„ 1ì¥ 8ì ˆ</p>
<input id="answer3">
<br><button onclick="check3()">í™•ì¸</button>
</div>

<!-- ROOM 4 -->
<div class="room" id="room4">
<h2>FINAL ROOM â€“ ë§ì”€ì˜ ë¹›</h2>
<p>ì‹œí¸ 119í¸ 105ì ˆ</p>
<input id="answer4" placeholder="ì˜ˆ: ë“±,ë¹›">
<br><button onclick="check4()">í™•ì¸</button>
</div>

<!-- ENDING -->
<div id="ending">
<h1>ğŸ‰ ë¯¸ì…˜ ì„±ê³µ</h1>
<p>ë§ì”€ì˜ ë¹›ì´ ë¬¸ì„ ì—´ì—ˆìŠµë‹ˆë‹¤</p>
<h3>ğŸ•¯ ì‹œí¸ 119í¸ 105ì ˆ</h3>
<p id="typing"></p>

<h2>ğŸ… ì°¸ì—¬í•œ ìš”ì›</h2>
<div id="names"></div>
</div>

<script>
// ğŸ”¹ ì•„ì´ë“¤ ì´ë¦„ ì—¬ê¸°ë§Œ ë°”ê¾¸ë©´ ë¨
const kids = ["í•˜ì§„","ì˜ˆì§€","ì„œì§„"];

function startMission() {
  document.getElementById("bgm").play();
}

function goNext(now, next) {
  document.getElementById(now).classList.remove("active");
  document.getElementById(next).classList.add("active");
}

function check1() {
  if (answer1.value.trim() === "ê¹¨ë‹«ì§€") goNext("room1","room2");
  else alert("ë§ì”€ì„ ë‹¤ì‹œ í™•ì¸!");
}

function check2() {
  if (answer2.value.trim() === "êµ¬í•˜ë¼,ì°¾ìœ¼ë¼,ë‘ë“œë¦¬ë¼") goNext("room2","room3");
  else alert("ìˆœì„œ ì¤‘ìš”!");
}

function check3() {
  if (answer3.value.trim() === "ë¬µìƒ") goNext("room3","room4");
  else alert("ë°˜ë³µë˜ëŠ” ë‹¨ì–´!");
}

function check4() {
  if (answer4.value.trim() === "ë“±,ë¹›") finish();
  else alert("ì •í™•íˆ!");
}

function finish() {
  document.getElementById("room4").style.display="none";
  document.getElementById("door").play();

  setTimeout(()=>{
    document.getElementById("successSound").play();
    document.getElementById("ending").style.display="block";
    typeText();
    showNames();
  },1500);
}

function typeText() {
  const text = "ì£¼ì˜ ë§ì”€ì€ ë‚´ ë°œì— ë“±ì´ìš” ë‚´ ê¸¸ì— ë¹›ì…ë‹ˆë‹¤";
  let i=0;
  const typing = document.getElementById("typing");

  const interval = setInterval(()=>{
    typing.innerHTML += text.charAt(i);
    i++;
    if(i >= text.length) clearInterval(interval);
  },80);
}

function showNames() {
  const box = document.getElementById("names");
  kids.forEach((name,i)=>{
    setTimeout(()=>{
      box.innerHTML += "âœ¨ " + name + "<br>";
    }, i*400);
  });
}
</script>

</body>
</html>
